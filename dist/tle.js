!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tle=e():t.tle=e()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){var n,r,s;!function(a,i){r=[t,e,o(1),o(2)],n=i,void 0!==(s="function"==typeof n?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,o,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,o){return e&&a(t.prototype,e),o&&a(t,o),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(t){return t&&t.__esModule?t:{default:t}}(o),d=c.default.twoline2satrec?c.default:c.default.satellite,h={INT:"INT",FLOAT:"FLOAT",CHAR:"CHAR",DECIMAL_ASSUMED:"DECIMAL_ASSUMED",DECIMAL_ASSUMED_E:"DECIMAL_ASSUMED_E"},u={line1:{lineNumber1:{start:0,length:1,type:h.INT},satelliteNumber:{start:2,length:5,type:h.INT},classification:{start:7,length:1,type:h.CHAR},intDesignatorYear:{start:9,length:2,type:h.INT},intDesignatorLaunchNumber:{start:11,length:3,type:h.INT},intDesignatorPieceOfLaunch:{start:14,length:3,type:h.CHAR},epochYear:{start:18,length:2,type:h.INT},epochDay:{start:20,length:12,type:h.FLOAT},firstTimeDerivative:{start:33,length:11,type:h.FLOAT},secondTimeDerivative:{start:44,length:8,type:h.DECIMAL_ASSUMED_E},bstarDrag:{start:53,length:8,type:h.DECIMAL_ASSUMED_E},orbitModel:{start:62,length:1,type:h.INT},tleSetNumber:{start:64,length:4,type:h.INT},checksum1:{start:68,length:1,type:h.INT}},line2:{lineNumber2:{start:0,length:1,type:h.INT},satelliteNumber2:{start:2,length:5,type:h.INT},inclination:{start:8,length:8,type:h.FLOAT},rightAscension:{start:17,length:8,type:h.FLOAT},eccentricity:{start:26,length:7,type:h.DECIMAL_ASSUMED},perigee:{start:34,length:8,type:h.FLOAT},meanAnomaly:{start:43,length:8,type:h.FLOAT},meanMotion:{start:52,length:11,type:h.FLOAT},revNumberAtEpoch:{start:63,length:5,type:h.INT},checksum2:{start:68,length:1,type:h.INT}}},l=function(){function t(){s(this,t),this.createAllTLEGetters(u),this.cache={antemeridianCrossings:{}}}return i(t,[{key:"parseTLE",value:function(t){if("object"===r(t)&&t.arr)return t;var e=Array.isArray(t)?t.join(""):t,o=e.substr&&e.substr(0,30),n="".concat("parseTLE","-").concat(o);if(this.cache[n])return this.cache[n];var s={},a=Array.isArray(t)?"array":r(t),i=[];switch(a){case"array":i=t.concat();break;case"string":i=t.split("\n");break;default:throw new Error("TLE input is invalid")}return i.length>2?(s.name=i[0],i.splice(0,1)):s.name="Unknown",i=i.map(function(t){return t.trim()}),s.arr=i,this.cache[n]=s,s}},{key:"isValidTLE",value:function(t){var e=this,o=this.parseTLE(t),n=o.arr.join("").substr(0,30),r="".concat("isValidTLE","-").concat(n);if(this.cache[r])return this.cache[r];var s=!0;return 2===o.arr.length&&(o.arr.forEach(function(t,n){if(s){var r=n+1,a=e["getLineNumber".concat(r)](o),i=a===r,c=e.tleLineChecksum(o.arr[n]),d=e["getChecksum".concat(r)](o),h=d===c;i&&h||(s=!1)}}),this.cache[r]=s,s)}},{key:"tleLineChecksum",value:function(t){var e=t.split("");if(e.splice(e.length-1,1),0===e.length)throw new Error("Character array empty!",t);return e.reduce(function(t,e){var o=parseInt(e,10),n=parseInt(t,10);return Number.isInteger(o)?n+o:"-"===e?n+1:n})%10}},{key:"getDigitCount",value:function(t){return Math.abs(t).toString().length}},{key:"toLeadingDecimal",value:function(t){var e=this.getDigitCount(t),o="0".repeat(e-1);return parseFloat(t*"0.".concat(o,"1"))}},{key:"decimalAssumedEToFloat",value:function(t){var e=t.substr(0,t.length-2),o=this.toLeadingDecimal(e),n=parseInt(t.substr(t.length-2,2),10);return(o*Math.pow(10,n)).toPrecision(5)}},{key:"createAllTLEGetters",value:function(t){var e=this.createTLELineGetters.bind(this,t);Object.keys(t).forEach(e)}},{key:"createTLELineGetters",value:function(t,e){var o=this.createTLEValGetter.bind(this,e);Object.keys(t[e]).forEach(o)}},{key:"createTLEValGetter",value:function(t,e){var o=this;this[this.toCamelCase("get-".concat(e))]=function(n){var r,s=o.parseTLE(n),a=s.arr,i="line1"===t?a[0]:a[1],c=u[t][e].start,d=u[t][e].length,l=i.substr(c,d);switch(u[t][e].type){case h.INT:r=parseInt(l,10);break;case h.FLOAT:r=parseFloat(l);break;case h.DECIMAL_ASSUMED:r=parseFloat("0.".concat(l));break;case h.DECIMAL_ASSUMED_E:r=o.decimalAssumedEToFloat(l);break;case h.CHAR:default:r=l.trim()}return r}}},{key:"toCamelCase",value:function(t,e){e=e||"-";var o=t.split(e),n=[];n.push(o[0]);for(var r=1,s=o.length;r<s;r++)n.push(o[r].substr(0,1).toUpperCase()+o[r].substr(1,o[r].length-1));return n.join("")}},{key:"getEpochTimestamp",value:function(t){var e=this.getEpochDay(t),o=this.getEpochYear(t);return this.dayOfYearToTimeStamp(e,o)}},{key:"getSatelliteName",value:function(t){return this.parseTLE(t).name}},{key:"getSatelliteInfo",value:function(t,e,o,n,r){var s=e||Date.now(),a=this.parseTLE(t).arr,i=a.join("").substr(0,30),c={lat:36.9613422,lng:-122.0308,height:.37},h=o||c.lat,u=n||c.lng,l=r||c.height,p="".concat("getSatelliteInfo","-").concat(i,"-").concat(s,"-").concat(o,"-").concat(n,"\n-").concat(r);if(this.cache[p])return this.cache[p];if(!d)throw new Error("satellite.js not found");var m=d.twoline2satrec(a[0],a[1]),g=new Date(s),f=d.propagate(m,g);if(d.error)throw new Error("Error: problematic TLE with unexpected eccentricity");var x=f.position,M=f.velocity,y={latitude:this.degreesToRadians(h),longitude:this.degreesToRadians(u),height:l},v=d.gstimeFromDate(g),z=d.eciToEcf(x,v),b=d.eciToGeodetic(x,v),T=d.ecfToLookAngles(y,z),L=Math.sqrt(Math.pow(M.x,2)+Math.pow(M.y,2)+Math.pow(M.z,2)),E=T.azimuth,w=b.longitude,k=b.latitude,A=b.height,j={lng:d.degreesLong(w),lat:d.degreesLat(k),elevation:this.radiansToDegrees(T.elevation),azimuth:this.radiansToDegrees(E),range:T.rangeSat,height:A,velocity:L};return this.cache[p]=j,j}},{key:"getLatLon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),o=this.parseTLE(t);if(!this.isValidTLE(o))throw new Error("TLE could not be parsed:",t);var n=this.getSatelliteInfo(o.arr,e);return{lat:n.lat,lng:n.lng}}},{key:"getLatLonArr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),o=this.getLatLon(t,e);return[o.lat,o.lng]}},{key:"radiansToDegrees",value:function(t){return t*(180/Math.PI)}},{key:"degreesToRadians",value:function(t){return t*(Math.PI/180)}},{key:"getLatLonAtEpoch",value:function(t){return this.getLatLon(t,this.getEpochTimestamp(t))}},{key:"getAverageOrbitLengthMins",value:function(t){var e=t.join("").substr(0,30),o="".concat("getAverageOrbitLengthMins","-").concat(e);if(this.cache[o])return this.cache[o];var n=1440/this.getMeanMotion(t);return this.cache[o]=n,n}},{key:"dayOfYearToTimeStamp",value:function(t,e){e=e||(new Date).getFullYear();var o=new Date("1/1/".concat(e," 0:0:0 Z")),n=o.getTime();return Math.floor(n+864e5*(t-1))}},{key:"getTLEEpochTimestamp",value:function(t){var e=this.getEpochYear(t),o=this.getEpochDay(t);return this.dayOfYearToTimeStamp(o,e)}},{key:"getCachedLastAntemeridianCrossingTimeMS",value:function(t,e){var o=60*this.getAverageOrbitLengthMins(t.arr)*1e3,n=t.arr.join("").substr(0,30),s=this.cache.antemeridianCrossings[n];return!!s&&(-1===s?s:s.filter(function(n){if("object"===r(n)&&n.tle===t)return-1;var s=e-n;return s>0&&s<o})[0]||!1)}},{key:"getLastAntemeridianCrossingTimeMS",value:function(t,e){var o=this.parseTLE(t),n=this.getCachedLastAntemeridianCrossingTimeMS(o,e);if(n)return n;for(var r=e||Date.now(),s=6e5,a=[],i=[],c=r,d=!1,h=0,u=!1;!u;)a=this.getLatLonArr(o.arr,c),d=this.crossesAntemeridian(i[1],a[1]),d?(c+=s,s=s>2e4?2e4:s/2):(c-=s,i=a),u=s<500||h>=1e3,h++;var l=h-1==1e3,p=l?-1:parseInt(c,10),m=o.arr.join("").substr(0,30);return this.cache.antemeridianCrossings[m]||(this.cache.antemeridianCrossings[m]=[]),l?this.cache.antemeridianCrossings[m]=-1:this.cache.antemeridianCrossings[m].push(p),p}},{key:"getOrbitTimeMS",value:function(t){return parseInt(864e5/this.getMeanMotion(t),10)}},{key:"getGroundTrackLatLng",value:function(t,e,o){var n,r=this,s="getGroundTrackLatLng",a=o||Date.now(),i=(a/1e3).toFixed(),c=this.parseTLE(t),d=c.arr[1].substr(0,30),h=this.getOrbitTimeMS(t),u=this.getLastAntemeridianCrossingTimeMS(c,a),l=-1!==u;if(!l)return n="".concat(s,"-").concat(d,"-").concat(e,"-").concat(i),this.cache[n]?this.cache[n]:(this.cache[n]=[this.getOrbitTrack(c.arr,a,6e5,864e5)],this.cache[n]);var p=(u/1e3).toFixed();if(n="".concat(s,"-").concat(d,"-").concat(e,"-").concat(p),this.cache[n])return this.cache[n];var m=this.getLastAntemeridianCrossingTimeMS(t,u-1e4),g=this.getLastAntemeridianCrossingTimeMS(t,u+h+18e5),f=[m,u,g],x=f.map(function(t){return r.getOrbitTrack(c.arr,t,e,!1)});return this.cache[n]=x,x}},{key:"getOrbitTrack",value:function(t,e,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6e6;if(!e)return[];var r=t.join(""),s=r.substr(0,30),a=(e/1e4).toFixed(),i="".concat("getOrbitTrack","-").concat(s,"-").concat(a,"-").concat(o);if(this.cache[i])return this.cache[i];for(var c=o||6e4,d=[],h=e,u=[],l=[],p=!1,m=!1;!p;)l=this.getLatLonArr(t,h),m=this.crossesAntemeridian(u[1],l[1]),m?(500===c&&(p=!0),h-=c,c=500):(d.push(l),h+=c,u=l),n&&h-e>n&&(p=!0);return this.cache[i]=d,d}},{key:"getSatBearing",value:function(t,e){var o=this.parseTLE(t),n=e||Date.now(),r=this.getLatLonArr(o.arr,n),s=this.getLatLonArr(o.arr,n+1e4);if(this.crossesAntemeridian(r[1],s[1]))return{};var a=this.degreesToRadians(r[0]),i=this.degreesToRadians(s[0]),c=this.degreesToRadians(r[1]),d=this.degreesToRadians(s[1]),h=a>=i?"S":"N",u=c>=d?"W":"E",l=Math.sin(d-c)*Math.cos(i),p=Math.cos(a)*Math.sin(i)-Math.sin(a)*Math.cos(i)*Math.cos(d-c);return{degrees:this.radiansToDegrees(Math.atan2(l,p)),compass:"".concat(h).concat(u)}}},{key:"crossesAntemeridian",value:function(t,e){return!(!t||!e)&&((0,n.isPositive)(t)!==(0,n.isPositive)(e)&&Math.abs(t)>100)}},{key:"getGroundTrackLngLat",value:function(t,e,o){return this.getGroundTrackLatLng(t,e,o).map(function(t){return t.map(function(t){return[t[1],t[0]]})})}}]),t}();e.default=l,t.exports=e.default})},function(t,e,o){var n,r,s;!function(o,a){r=[],n=a,void 0!==(s="function"==typeof n?n.apply(e,r):n)&&(t.exports=s)}(0,function(){var t,e,o;return function(n){function r(t,e){return v.call(t,e)}function s(t,e){var o,n,r,s,a,i,c,d,h,u,l,p=e&&e.split("/"),m=M.map,g=m&&m["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),t=t.split("/"),a=t.length-1,M.nodeIdCompat&&b.test(t[a])&&(t[a]=t[a].replace(b,"")),t=p.concat(t),h=0;h<t.length;h+=1)if("."===(l=t[h]))t.splice(h,1),h-=1;else if(".."===l){if(1===h&&(".."===t[2]||".."===t[0]))break;h>0&&(t.splice(h-1,2),h-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&m){for(o=t.split("/"),h=o.length;h>0;h-=1){if(n=o.slice(0,h).join("/"),p)for(u=p.length;u>0;u-=1)if((r=m[p.slice(0,u).join("/")])&&(r=r[n])){s=r,i=h;break}if(s)break;!c&&g&&g[n]&&(c=g[n],d=h)}!s&&c&&(s=c,i=d),s&&(o.splice(0,i,s),t=o.join("/"))}return t}function a(t,e){return function(){return p.apply(n,z.call(arguments,0).concat([t,e]))}}function i(t){return function(e){return s(e,t)}}function c(t){return function(e){f[t]=e}}function d(t){if(r(x,t)){var e=x[t];delete x[t],y[t]=!0,l.apply(n,e)}if(!r(f,t)&&!r(y,t))throw new Error("No "+t);return f[t]}function h(t){var e,o=t?t.indexOf("!"):-1;return o>-1&&(e=t.substring(0,o),t=t.substring(o+1,t.length)),[e,t]}function u(t){return function(){return M&&M.config&&M.config[t]||{}}}var l,p,m,g,f={},x={},M={},y={},v=Object.prototype.hasOwnProperty,z=[].slice,b=/\.js$/;m=function(t,e){var o,n=h(t),r=n[0];return t=n[1],r&&(r=s(r,e),o=d(r)),r?t=o&&o.normalize?o.normalize(t,i(e)):s(t,e):(t=s(t,e),n=h(t),r=n[0],t=n[1],r&&(o=d(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:o}},g={require:function(t){return a(t)},exports:function(t){var e=f[t];return void 0!==e?e:f[t]={}},module:function(t){return{id:t,uri:"",exports:f[t],config:u(t)}}},l=function(t,e,o,s){var i,h,u,l,p,M,v=[],z=typeof o;if(s=s||t,"undefined"===z||"function"===z){for(e=!e.length&&o.length?["require","exports","module"]:e,p=0;p<e.length;p+=1)if(l=m(e[p],s),"require"===(h=l.f))v[p]=g.require(t);else if("exports"===h)v[p]=g.exports(t),M=!0;else if("module"===h)i=v[p]=g.module(t);else if(r(f,h)||r(x,h)||r(y,h))v[p]=d(h);else{if(!l.p)throw new Error(t+" missing "+h);l.p.load(l.n,a(s,!0),c(h),{}),v[p]=f[h]}u=o?o.apply(f[t],v):void 0,t&&(i&&i.exports!==n&&i.exports!==f[t]?f[t]=i.exports:u===n&&M||(f[t]=u))}else t&&(f[t]=o)},t=e=p=function(t,e,o,r,s){if("string"==typeof t)return g[t]?g[t](e):d(m(t,e).f);if(!t.splice){if(M=t,M.deps&&p(M.deps,M.callback),!e)return;e.splice?(t=e,e=o,o=null):t=n}return e=e||function(){},"function"==typeof o&&(o=r,r=s),r?l(n,t,e,o):setTimeout(function(){l(n,t,e,o)},4),p},p.config=function(t){return p(t)},t._defined=f,o=function(t,e,o){e.splice||(o=e,e=[]),r(f,t)||r(x,t)||(x[t]=[t,e,o])},o.amd={jQuery:!0}}(),o("almond",function(){}),o("constants",[],function(){"use strict";var t=Math.PI,e=60/Math.sqrt(650944.0944816993),o=.00108262998905,n=-253215306e-14;return{pi:t,twoPi:2*t,deg2rad:t/180,rad2deg:180/t,minutesPerDay:1440,mu:398600.5,earthRadius:6378.137,xke:e,tumin:1/e,j2:o,j3:n,j4:-161098761e-14,j3oj2:n/o,x2o3:2/3}}),o("coordinate-transforms/degrees-lat",["../constants"],function(t){"use strict";return function(e){if(e>t.pi/2||e<-t.pi/2)return"Err";var o=e/t.pi*180;return o=o}}),o("coordinate-transforms/degrees-long",["../constants"],function(t){"use strict";return function(e){var o=e/t.pi*180%360;return o>180?o=360-o:o<-180&&(o=360+o),o}}),o("coordinate-transforms/ecf-to-eci",[],function(){"use strict";return function(t,e){return{x:t.x*Math.cos(e)-t.y*Math.sin(e),y:t.x*Math.sin(e)+t.y*Math.cos(e),z:t.z}}}),o("coordinate-transforms/geodetic-to-ecf",[],function(){"use strict";return function(t){var e=t.longitude,o=t.latitude,n=t.height,r=6378.137,s=(r-6356.7523142)/r,a=2*s-s*s,i=r/Math.sqrt(1-a*(Math.sin(o)*Math.sin(o)));return{x:(i+n)*Math.cos(o)*Math.cos(e),y:(i+n)*Math.cos(o)*Math.sin(e),z:(i*(1-a)+n)*Math.sin(o)}}}),o("coordinate-transforms/topocentric",["./geodetic-to-ecf"],function(t){"use strict";return function(e,o){var n=e.longitude,r=e.latitude,s=t(e),a=o.x-s.x,i=o.y-s.y,c=o.z-s.z;return{topS:Math.sin(r)*Math.cos(n)*a+Math.sin(r)*Math.sin(n)*i-Math.cos(r)*c,topE:-Math.sin(n)*a+Math.cos(n)*i,topZ:Math.cos(r)*Math.cos(n)*a+Math.cos(r)*Math.sin(n)*i+Math.sin(r)*c}}}),o("coordinate-transforms/topocentric-to-look-angles",["../constants"],function(t){"use strict";return function(e){var o=e.topS,n=e.topE,r=e.topZ,s=Math.sqrt(o*o+n*n+r*r),a=Math.asin(r/s);return{azimuth:Math.atan2(-n,o)+t.pi,elevation:a,rangeSat:s}}}),o("coordinate-transforms/ecf-to-look-angles",["./topocentric","./topocentric-to-look-angles"],function(t,e){"use strict";return function(o,n){var r=t(o,n);return e(r)}}),o("coordinate-transforms/eci-to-ecf",[],function(){"use strict";return function(t,e){return{x:t.x*Math.cos(e)+t.y*Math.sin(e),y:t.x*-Math.sin(e)+t.y*Math.cos(e),z:t.z}}}),o("coordinate-transforms/eci-to-geodetic",[],function(){"use strict";return function(t,e){for(var o,n=6378.137,r=Math.sqrt(t.x*t.x+t.y*t.y),s=(n-6356.7523142)/n,a=2*s-s*s,i=Math.atan2(t.y,t.x)-e,c=0,d=Math.atan2(t.z,Math.sqrt(t.x*t.x+t.y*t.y));c<20;)o=1/Math.sqrt(1-a*(Math.sin(d)*Math.sin(d))),d=Math.atan2(t.z+n*o*a*Math.sin(d),r),c+=1;return{longitude:i,latitude:d,height:r/Math.cos(d)-n*o}}}),o("doppler-factor",[],function(){"use strict";return function(t,e,o){var n=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)),r={x:e.x+o.x,y:e.y+o.y,z:e.z+o.z},s=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)+Math.pow(r.z-t.z,2)),a=s-n;a*=function(t){return t>=0?1:-1}(a);return 1+a/299792.458}}),o("gstime/days2mdhms",[],function(){"use strict";return function(t,e){var o=[31,28,31,30,31,30,31,31,30,31,30,31],n=Math.floor(e);t%4==0&&(o=[31,29,31,30,31,30,31,31,30,31,30,31]);for(var r=1,s=0;n>s+o[r-1]&&r<12;)s+=o[r-1],r+=1;var a=r,i=n-s,c=24*(e-n),d=Math.floor(c);c=60*(c-d);var h=Math.floor(c);return{mon:a,day:i,hr:d,minute:h,sec:60*(c-h)}}}),o("gstime/gstime",["../constants"],function(t){"use strict";return function(e){var o=(e-2451545)/36525,n=-62e-7*o*o*o+.093104*o*o+3164400184.812866*o+67310.54841;return n=n*t.deg2rad/240%t.twoPi,n<0&&(n+=t.twoPi),n}}),o("gstime/jday",[],function(){"use strict";return function(t,e,o,n,r,s){if(t instanceof Date){var a=t;t=a.getUTCFullYear(),e=a.getUTCMonth()+1,o=a.getUTCDate(),n=a.getUTCHours(),r=a.getUTCMinutes(),s=a.getUTCSeconds()}return 367*t-Math.floor(7*(t+Math.floor((e+9)/12))*.25)+Math.floor(275*e/9)+o+1721013.5+((s/60+r)/60+n)/24}}),o("dpper",["./constants"],function(t){"use strict";return function(e,o){var n,r,s,a,i,c,d,h,u,l,p,m,g,f,x,M,y,v,z,b,T,L,E,w,k,A,j,D,C,S,I,P=o.init,q=o.ep,F=o.inclp,O=o.nodep,N=o.argpp,R=o.mp,_=o.opsmode,U=e.e3,G=e.ee2,Y=e.peo,H=e.pgho,V=e.pho,Z=e.pinco,B=e.plo,J=e.se2,Q=e.se3,W=e.sgh2,$=e.sgh3,K=e.sgh4,X=e.sh2,tt=e.sh3,et=e.si2,ot=e.si3,nt=e.sl2,rt=e.sl3,st=e.sl4,at=e.t,it=e.xgh2,ct=e.xgh3,dt=e.xgh4,ht=e.xh2,ut=e.xh3,lt=e.xi2,pt=e.xi3,mt=e.xl2,gt=e.xl3,ft=e.xl4,xt=e.zmol,Mt=e.zmos;return S=Mt+119459e-10*at,"y"===P&&(S=Mt),C=S+.0335*Math.sin(S),E=Math.sin(C),l=.5*E*E-.25,p=-.5*E*Math.cos(C),v=J*l+Q*p,w=et*l+ot*p,A=nt*l+rt*p+st*E,b=W*l+$*p+K*E,T=X*l+tt*p,S=xt+.00015835218*at,"y"===P&&(S=xt),C=S+.1098*Math.sin(S),E=Math.sin(C),l=.5*E*E-.25,p=-.5*E*Math.cos(C),y=G*l+U*p,L=lt*l+pt*p,k=mt*l+gt*p+ft*E,z=it*l+ct*p+dt*E,I=ht*l+ut*p,m=v+y,x=w+L,M=A+k,g=b+z,f=T+I,"n"===P&&(m-=Y,x-=Z,M-=B,g-=H,f-=V,F+=x,q+=m,a=Math.sin(F),s=Math.cos(F),F>=.2?(f/=a,g-=s*f,N+=g,O+=f,R+=M):(c=Math.sin(O),i=Math.cos(O),n=a*c,r=a*i,d=f*i+x*s*c,h=-f*c+x*s*i,n+=d,r+=h,O%=t.twoPi,O<0&&"a"===_&&(O+=t.twoPi),j=R+N+s*O,u=M+g-x*O*a,j+=u,D=O,O=Math.atan2(n,r),O<0&&"a"===_&&(O+=t.twoPi),Math.abs(D-O)>t.pi&&(O<D?O+=t.twoPi:O-=t.twoPi),R+=M,N=j-R-s*O)),{ep:q,inclp:F,nodep:O,argpp:N,mp:R}}}),o("dspace",["./constants"],function(t){"use strict";return function(e){var o,n,r,s,a,i,c,d,h,u,l=e.irez,p=e.d2201,m=e.d2211,g=e.d3210,f=e.d3222,x=e.d4410,M=e.d4422,y=e.d5220,v=e.d5232,z=e.d5421,b=e.d5433,T=e.dedt,L=e.del1,E=e.del2,w=e.del3,k=e.didt,A=e.dmdt,j=e.dnodt,D=e.domdt,C=e.argpo,S=e.argpdot,I=e.t,P=e.tc,q=e.gsto,F=e.xfact,O=e.xlamo,N=e.no,R=e.atime,_=e.em,U=e.argpm,G=e.inclm,Y=e.xli,H=e.mm,V=e.xni,Z=e.nodem,B=e.nm,J=5.7686396,Q=.95240898,W=1.8014998,$=1.050833,K=4.4108898,X=0;if(r=(q+.0043752690880113*P)%t.twoPi,_+=T*I,G+=k*I,U+=D*I,Z+=j*I,H+=A*I,n=0,0!==l){(0===R||I*R<=0||Math.abs(I)<Math.abs(R))&&(R=0,V=N,Y=O),o=I>0?720:-720;for(var tt=381;381===tt;)2!==l?(h=L*Math.sin(Y-.13130908)+E*Math.sin(2*(Y-2.8843198))+w*Math.sin(3*(Y-.37448087)),c=V+F,d=L*Math.cos(Y-.13130908)+2*E*Math.cos(2*(Y-2.8843198))+3*w*Math.cos(3*(Y-.37448087)),d*=c):(u=C+S*R,a=u+u,s=Y+Y,h=p*Math.sin(a+Y-J)+m*Math.sin(Y-J)+g*Math.sin(u+Y-Q)+f*Math.sin(-u+Y-Q)+x*Math.sin(a+s-W)+M*Math.sin(s-W)+y*Math.sin(u+Y-$)+v*Math.sin(-u+Y-$)+z*Math.sin(u+s-K)+b*Math.sin(-u+s-K),c=V+F,d=p*Math.cos(a+Y-J)+m*Math.cos(Y-J)+g*Math.cos(u+Y-Q)+f*Math.cos(-u+Y-Q)+y*Math.cos(u+Y-$)+v*Math.cos(-u+Y-$)+2*(x*Math.cos(a+s-W)+M*Math.cos(s-W)+z*Math.cos(u+s-K)+b*Math.cos(-u+s-K)),d*=c),Math.abs(I-R)>=720?(0,tt=381):(n=I-R,tt=0),381===tt&&(Y=Y+c*o+259200*h,V=V+h*o+259200*d,R+=o);B=V+h*n+d*n*n*.5,i=Y+c*n+h*n*n*.5,1!==l?(H=i-2*Z+2*r,X=B-N):(H=i-Z-U+r,X=B-N),B=N+X}return{atime:R,em:_,argpm:U,inclm:G,xli:Y,mm:H,xni:V,nodem:Z,dndt:X,nm:B}}}),o("sgp4",["./constants","./dpper","./dspace"],function(t,e,o){"use strict";return function(n,r){var s,a,i,c,d,h,u,l,p,m,g,f,x,M,y,v,z,b,T,L,E,w,k,A,j,D,C,S,I,P,q,F,O,N,R,_,U,G,Y,H,V,Z,B,J,Q,W,$,K,X,tt,et,ot,nt,rt,st,at,it,ct,dt,ht,ut,lt,pt,mt,gt,ft,xt,Mt,yt,vt,zt,bt=0,Tt=t.earthRadius*t.xke/60;n.t=r,n.error=0,ft=n.mo+n.mdot*n.t;var Lt=n.argpo+n.argpdot*n.t;if(yt=n.nodeo+n.nodedot*n.t,I=Lt,ct=ft,Y=n.t*n.t,ht=yt+n.nodecf*Y,$=1-n.cc1*n.t,K=n.bstar*n.cc4*n.t,X=n.t2cof*Y,1!==n.isimp){k=n.omgcof*n.t;var Et=1+n.eta*Math.cos(ft);w=n.xmcof*(Et*Et*Et-n.delmo),J=k+w,ct=ft+J,I=Lt-J,H=Y*n.t,V=H*n.t,$=$-n.d2*Y-n.d3*H-n.d4*V,K+=n.bstar*n.cc5*(Math.sin(ct)-n.sinmao),X=X+n.t3cof*H+V*(n.t4cof+n.t*n.t5cof)}dt=n.no;var wt=n.ecco;if(it=n.inclo,"d"===n.method){Z=n.t;var kt={irez:n.irez,d2201:n.d2201,d2211:n.d2211,d3210:n.d3210,d3222:n.d3222,d4410:n.d4410,d4422:n.d4422,d5220:n.d5220,d5232:n.d5232,d5421:n.d5421,d5433:n.d5433,dedt:n.dedt,del1:n.del1,del2:n.del2,del3:n.del3,didt:n.didt,dmdt:n.dmdt,dnodt:n.dnodt,domdt:n.domdt,argpo:n.argpo,argpdot:n.argpdot,t:n.t,tc:Z,gsto:n.gsto,xfact:n.xfact,xlamo:n.xlamo,no:n.no,atime:n.atime,em:wt,argpm:I,inclm:it,xli:n.xli,mm:ct,xni:n.xni,nodem:ht,nm:dt},At=o(kt);wt=At.em,I=At.argpm,it=At.inclm,ct=At.mm,ht=At.nodem,At.dndt,dt=At.nm}if(dt<=0)return n.error=2,[!1,!1];if(s=Math.pow(t.xke/dt,t.x2o3)*$*$,dt=t.xke/Math.pow(s,1.5),(wt-=K)>=1||wt<-.001)return n.error=1,[!1,!1];wt<1e-6&&(wt=1e-6),ct+=n.no*X,mt=ct+I+ht,A=wt*wt,J=1-A,ht%=t.twoPi,I%=t.twoPi,mt%=t.twoPi,ct=(mt-I-ht)%t.twoPi,h=Math.sin(it),d=Math.cos(it);var jt=wt;if(lt=it,P=I,zt=ht,gt=ct,v=h,y=d,"d"===n.method){var Dt={inclo:n.inclo,init:"n",ep:jt,inclp:lt,nodep:zt,argpp:P,mp:gt,opsmode:n.operationmod},Ct=e(n,Dt);if(jt=Ct.ep,lt=Ct.inclp,zt=Ct.nodep,P=Ct.argpp,gt=Ct.mp,lt<0&&(lt=-lt,zt+=t.pi,P-=t.pi),jt<0||jt>1)return n.error=3,[!1,!1]}"d"===n.method&&(v=Math.sin(lt),y=Math.cos(lt),n.aycof=-.5*t.j3oj2*v,Math.abs(y+1)>1.5e-12?n.xlcof=-.25*t.j3oj2*v*(3+5*y)/(1+y):n.xlcof=-.25*t.j3oj2*v*(3+5*y)/1.5e-12),a=jt*Math.cos(P),J=1/(s*(1-jt*jt)),i=jt*Math.sin(P)+J*n.aycof,pt=gt+P+zt+J*n.xlcof*a,tt=(pt-zt)%t.twoPi,C=tt,B=9999.9;for(var St=1;Math.abs(B)>=1e-12&&St<=10;)f=Math.sin(C),g=Math.cos(C),B=1-g*a-f*i,B=(tt-i*g+a*f-C)/B,Math.abs(B)>=.95&&(B=B>0?.95:-.95),C+=B,St+=1;if(j=a*g+i*f,S=a*f-i*g,D=a*a+i*i,(q=s*(1-D))<0)return n.error=4,[!1,!1];R=s*(1-j),N=Math.sqrt(s)*S/R,U=Math.sqrt(q)/R,c=Math.sqrt(1-D),J=S/(1+c),E=s/R*(f-i-a*J),L=s/R*(g-a+i*J),G=Math.atan2(E,L),m=(L+L)*E,p=1-2*E*E,J=1/q,Q=.5*t.j2*J,W=Q*J,"d"===n.method&&(z=y*y,n.con41=3*z-1,n.x1mth2=1-z,n.x7thm1=7*z-1),bt=R*(1-1.5*W*c*n.con41)+.5*Q*n.x1mth2*p,G-=.25*W*n.x7thm1*m,vt=zt+1.5*W*y*m,ut=lt+1.5*W*y*v*p;var It=N-dt*Q*n.x1mth2*m/t.xke;return _=U+dt*Q*(n.x1mth2*p+1.5*n.con41)/t.xke,T=Math.sin(G),b=Math.cos(G),l=Math.sin(vt),u=Math.cos(vt),M=Math.sin(ut),x=Math.cos(ut),xt=-l*x,Mt=u*x,et=xt*T+u*b,ot=Mt*T+l*b,nt=M*T,rt=xt*b-u*T,st=Mt*b-l*T,at=M*b,F={x:0,y:0,z:0},F.x=bt*et*t.earthRadius,F.y=bt*ot*t.earthRadius,F.z=bt*nt*t.earthRadius,O={x:0,y:0,z:0},O.x=(It*et+_*rt)*Tt,O.y=(It*ot+_*st)*Tt,O.z=(It*nt+_*at)*Tt,bt<1?(n.error=6,{position:!1,velocity:!1}):{position:F,velocity:O}}}),o("propagate/propagate",["../constants","../gstime/jday","../sgp4"],function(t,e,o){"use strict";return function(){var n=arguments[0],r=Array.prototype.slice.call(arguments,1),s=e.apply(null,r),a=(s-n.jdsatepoch)*t.minutesPerDay;return o(n,a)}}),o("dscom",["./constants"],function(t){"use strict";return function(e){var o,n,r,s,a,i,c,d,h,u,l,p,m,g,f,x,M,y,v,z,b,T,L,E,w,k,A,j,D,C,S,I,P,q,F,O,N,R,_,U,G,Y,H,V,Z,B,J,Q,W,$,K,X,tt,et,ot,nt,rt,st,at,it,ct,dt,ht,ut,lt,pt,mt,gt,ft,xt,Mt,yt,vt,zt,bt,Tt,Lt=e.epoch,Et=e.ep,wt=e.argpp,kt=e.tc,At=e.inclp,jt=e.nodep,Dt=e.np,Ct=e.e3,St=e.ee2,It=e.peo,Pt=e.pgho,qt=e.pho,Ft=e.pinco,Ot=e.plo,Nt=e.se2,Rt=e.se3,_t=e.sgh2,Ut=e.sgh3,Gt=e.sgh4,Yt=e.sh2,Ht=e.sh3,Vt=e.si2,Zt=e.si3,Bt=e.sl2,Jt=e.sl3,Qt=e.sl4,Wt=e.xgh2,$t=e.xgh3,Kt=e.xgh4,Xt=e.xh2,te=e.xh3,ee=e.xi2,oe=e.xi3,ne=e.xl2,re=e.xl3,se=e.xl4,ae=e.zmol,ie=e.zmos,ce=Dt,de=Et,he=Math.sin(jt),ue=Math.cos(jt),le=Math.sin(wt),pe=Math.cos(wt),me=Math.sin(At),ge=Math.cos(At),fe=de*de;l=1-fe;var xe=Math.sqrt(l);It=0,Ft=0,Ot=0,Pt=0,qt=0;var Me=Lt+18261.5+kt/1440;L=(4.523602-.00092422029*Me)%t.twoPi,g=Math.sin(L),m=Math.cos(L),F=.91375164-.03568096*m,O=Math.sqrt(1-F*F),I=.089683511*g/O,S=Math.sqrt(1-I*I);var ye=5.8351514+.001944368*Me;N=.39785416*g/O,R=S*m+.91744867*I*g,N=Math.atan2(N,R),N=ye+N-L,A=Math.cos(N),j=Math.sin(N),w=.1945905,k=-.98088458,P=.91744867,q=.39785416,D=ue,C=he,p=29864797e-13,E=1/ce;for(var ve=0;ve<2;)ve+=1,o=w*D+k*P*C,r=-k*D+w*P*C,c=-w*C+k*P*D,d=k*q,h=k*C+w*P*D,u=w*q,n=ge*c+me*d,s=ge*h+me*u,a=-me*c+ge*d,i=-me*h+ge*u,f=o*pe+n*le,x=r*pe+s*le,M=-o*le+n*pe,y=-r*le+s*pe,v=a*le,z=i*le,b=a*pe,T=i*pe,zt=12*f*f-3*M*M,bt=24*f*x-6*M*y,Tt=12*x*x-3*y*y,lt=3*(o*o+n*n)+zt*fe,pt=6*(o*r+n*s)+bt*fe,mt=3*(r*r+s*s)+Tt*fe,gt=-6*o*a+fe*(-24*f*b-6*M*v),ft=-6*(o*i+r*a)+fe*(-24*(x*b+f*T)+-6*(M*z+y*v)),xt=-6*r*i+fe*(-24*x*T-6*y*z),Mt=6*n*a+fe*(24*f*v-6*M*b),yt=6*(s*a+n*i)+fe*(24*(x*v+f*z)-6*(y*b+M*T)),vt=6*s*i+fe*(24*x*z-6*y*T),lt=lt+lt+l*zt,pt=pt+pt+l*bt,mt=mt+mt+l*Tt,it=p*E,at=-.5*it/xe,ct=it*xe,st=-15*de*ct,dt=f*M+x*y,ht=x*M+f*y,ut=x*y-f*M,1===ve&&(_=st,U=at,G=it,Y=ct,H=dt,V=ht,Z=ut,B=lt,J=pt,Q=mt,W=gt,$=ft,K=xt,X=Mt,tt=yt,et=vt,ot=zt,nt=bt,rt=Tt,w=A,k=j,P=F,q=O,D=S*ue+I*he,C=he*S-ue*I,p=4.7968065e-7);return ae=(4.7199672+.2299715*Me-ye)%t.twoPi,ie=(6.2565837+.017201977*Me)%t.twoPi,Nt=2*_*V,Rt=2*_*Z,Vt=2*U*$,Zt=2*U*(K-W),Bt=-2*G*J,Jt=-2*G*(Q-B),Qt=-2*G*(-21-9*fe)*.01675,_t=2*Y*nt,Ut=2*Y*(rt-ot),Gt=-18*Y*.01675,Yt=-2*U*tt,Ht=-2*U*(et-X),St=2*st*ht,Ct=2*st*ut,ee=2*at*ft,oe=2*at*(xt-gt),ne=-2*it*pt,re=-2*it*(mt-lt),se=-2*it*(-21-9*fe)*.0549,Wt=2*ct*bt,$t=2*ct*(Tt-zt),Kt=-18*ct*.0549,Xt=-2*at*yt,te=-2*at*(vt-Mt),{snodm:he,cnodm:ue,sinim:me,cosim:ge,sinomm:le,cosomm:pe,day:Me,e3:Ct,ee2:St,em:de,emsq:fe,gam:ye,peo:It,pgho:Pt,pho:qt,pinco:Ft,plo:Ot,rtemsq:xe,se2:Nt,se3:Rt,sgh2:_t,sgh3:Ut,sgh4:Gt,sh2:Yt,sh3:Ht,si2:Vt,si3:Zt,sl2:Bt,sl3:Jt,sl4:Qt,s1:st,s2:at,s3:it,s4:ct,s5:dt,s6:ht,s7:ut,ss1:_,ss2:U,ss3:G,ss4:Y,ss5:H,ss6:V,ss7:Z,sz1:B,sz2:J,sz3:Q,sz11:W,sz12:$,sz13:K,sz21:X,sz22:tt,sz23:et,sz31:ot,sz32:nt,sz33:rt,xgh2:Wt,xgh3:$t,xgh4:Kt,xh2:Xt,xh3:te,xi2:ee,xi3:oe,xl2:ne,xl3:re,xl4:se,nm:ce,z1:lt,z2:pt,z3:mt,z11:gt,z12:ft,z13:xt,z21:Mt,z22:yt,z23:vt,z31:zt,z32:bt,z33:Tt,zmol:ae,zmos:ie}}}),o("dsinit",["./constants"],function(t){"use strict";return function(e){var o,n,r,s,a,i,c,d,h,u,l,p,m,g,f,x,M,y,v,z,b,T,L,E,w,k,A,j,D,C,S,I,P,q=e.cosim,F=e.emsq,O=e.argpo,N=e.s1,R=e.s2,_=e.s3,U=e.s4,G=e.s5,Y=e.sinim,H=e.ss1,V=e.ss2,Z=e.ss3,B=e.ss4,J=e.ss5,Q=e.sz1,W=e.sz3,$=e.sz11,K=e.sz13,X=e.sz21,tt=e.sz23,et=e.sz31,ot=e.sz33,nt=e.t,rt=e.tc,st=e.gsto,at=e.mo,it=e.mdot,ct=e.no,dt=e.nodeo,ht=e.nodedot,ut=e.xpidot,lt=e.z1,pt=e.z3,mt=e.z11,gt=e.z13,ft=e.z21,xt=e.z23,Mt=e.z31,yt=e.z33,vt=e.ecco,zt=e.eccsq,bt=e.em,Tt=e.argpm,Lt=e.inclm,Et=e.mm,wt=e.nm,kt=e.nodem,At=e.irez,jt=e.atime,Dt=e.d2201,Ct=e.d2211,St=e.d3210,It=e.d3222,Pt=e.d4410,qt=e.d4422,Ft=e.d5220,Ot=e.d5232,Nt=e.d5421,Rt=e.d5433,_t=e.dedt,Ut=e.didt,Gt=e.dmdt,Yt=e.dnodt,Ht=e.domdt,Vt=e.del1,Zt=e.del2,Bt=e.del3,Jt=e.xfact,Qt=e.xlamo,Wt=e.xli,$t=e.xni,Kt=.0043752690880113,Xt=.00015835218,te=119459e-10;At=0,.0034906585<wt<.0052359877&&(At=1),.00826<=wt<=.00924&&bt>=.5&&(At=2);var ee=H*te*J,oe=V*te*($+K),ne=-te*Z*(Q+W-14-6*F),re=B*te*(et+ot-6),se=-te*V*(X+tt);(Lt<.052359877||Lt>t.pi-.052359877)&&(se=0),0!==Y&&(se/=Y);var ae=re-q*se;_t=ee+N*Xt*G,Ut=oe+R*Xt*(mt+gt),Gt=ne-Xt*_*(lt+pt-14-6*F);var ie=U*Xt*(Mt+yt-6),ce=-Xt*R*(ft+xt);(Lt<.052359877||Lt>t.pi-.052359877)&&(ce=0),Ht=ae+ie,Yt=se,0!==Y&&(Ht-=q/Y*ce,Yt+=ce/Y);if(j=(st+rt*Kt)%t.twoPi,bt+=_t*nt,Lt+=Ut*nt,Tt+=Ht*nt,kt+=Yt*nt,Et+=Gt*nt,0!==At){if(S=Math.pow(wt/t.xke,2/3),2===At){I=q*q;var de=bt;bt=vt;var he=F;F=zt,P=bt*F,g=-.306-.44*(bt-.64),bt<=.65?(f=3.616-13.247*bt+16.29*F,M=117.39*bt-19.302-228.419*F+156.591*P,y=109.7927*bt-18.9068-214.6334*F+146.5816*P,v=242.694*bt-41.122-471.094*F+313.953*P,z=841.88*bt-146.407-1629.014*F+1083.435*P,b=3017.977*bt-532.114-5740.032*F+3708.276*P):(f=331.819*bt-72.099-508.738*F+266.724*P,M=1582.851*bt-346.844-2415.925*F+1246.113*P,y=1554.908*bt-342.585-2366.899*F+1215.972*P,v=4758.686*bt-1052.797-7193.992*F+3651.957*P,z=16178.11*bt-3581.69-24462.77*F+12422.52*P,b=bt>.715?29936.92*bt-5149.66-54087.36*F+31324.56*P:1464.74-4664.75*bt+3763.64*F),bt<.7?(E=4988.61*bt-919.2277-9064.77*F+5542.21*P,T=4568.6173*bt-822.71072-8491.4146*F+5337.524*P,L=4690.25*bt-853.666-8624.77*F+5341.4*P):(E=161616.52*bt-37995.78-229838.2*F+109377.94*P,T=218913.95*bt-51752.104-309468.16*F+146349.42*P,L=170470.89*bt-40023.88-242699.48*F+115605.82*P),w=Y*Y,o=.75*(1+2*q+I),n=1.5*w,s=1.875*Y*(1-2*q-3*I),a=-1.875*Y*(1+2*q-3*I),c=35*w*o,d=39.375*w*w,h=9.84375*Y*(w*(1-2*q-5*I)+.33333333*(4*q-2+6*I)),u=Y*(4.92187512*w*(-2-4*q+10*I)+6.56250012*(1+2*q-3*I)),l=29.53125*Y*(2-8*q+I*(8*q-12+10*I)),p=29.53125*Y*(-2-8*q+I*(12+8*q-10*I)),D=wt*wt,C=S*S,A=3*D*C,k=17891679e-13*A,Dt=k*o*g,Ct=k*n*f,A*=S,k=3.7393792e-7*A,St=k*s*M,It=k*a*y,A*=S,k=2*A*7.3636953e-9,Pt=k*c*v,qt=k*d*z,A*=S,k=1.1428639e-7*A,Ft=k*h*b,Ot=k*u*L,k=2*A*2.1765803e-9,Nt=k*l*T,Rt=k*p*E,Qt=(at+dt+dt-j-j)%t.twoPi,Jt=it+Gt+2*(ht+Yt-Kt)-ct,bt=de,F=he}1===At&&(m=1+F*(.8125*F-2.5),M=1+2*F,x=1+F*(6.60937*F-6),o=.75*(1+q)*(1+q),r=.9375*Y*Y*(1+3*q)-.75*(1+q),i=1+q,i*=1.875*i*i,Vt=3*wt*wt*S*S,Zt=2*Vt*o*m*17891679e-13,Bt=3*Vt*i*x*2.2123015e-7*S,Vt=Vt*r*M*21460748e-13*S,Qt=(at+dt+O-j)%t.twoPi,Jt=it+ut-Kt+Gt+Ht+Yt-ct),Wt=Qt,$t=ct,jt=0,wt=ct+0}return{em:bt,argpm:Tt,inclm:Lt,mm:Et,nm:wt,nodem:kt,irez:At,atime:jt,d2201:Dt,d2211:Ct,d3210:St,d3222:It,d4410:Pt,d4422:qt,d5220:Ft,d5232:Ot,d5421:Nt,d5433:Rt,dedt:_t,didt:Ut,dmdt:Gt,dndt:0,dnodt:Yt,domdt:Ht,del1:Vt,del2:Zt,del3:Bt,xfact:Jt,xlamo:Qt,xli:Wt,xni:$t}}}),o("initl",["./constants","./gstime/gstime"],function(t,e){"use strict";return function(o){var n,r,s,a,i,c=o.ecco,d=o.epoch,h=o.inclo,u=o.no,l=o.method,p=o.opsmode,m=c*c,g=1-m,f=Math.sqrt(g),x=Math.cos(h),M=x*x;n=Math.pow(t.xke/u,t.x2o3),r=.75*t.j2*(3*M-1)/(f*g);var y=r/(n*n);s=n*(1-y*y-y*(1/3+134*y*y/81)),y=r/(s*s),u/=1+y;var v=Math.pow(t.xke/u,t.x2o3),z=Math.sin(h);a=v*g;var b=1-5*M,T=-b-M-M,L=1/v,E=a*a,w=v*(1-c);if(l="n","a"===p){var k=d-7305,A=Math.floor(k+1e-8),j=k-A,D=.017202791694070362;i=(1.7321343856509375+D*A+(D+t.twoPi)*j+k*k*5.075514194322695e-15)%t.twoPi,i<0&&(i+=t.twoPi)}else i=e(d+2433281.5);return{no:u,method:l,ainv:L,ao:v,con41:T,con42:b,cosio:x,cosio2:M,eccsq:m,omeosq:g,posq:E,rp:w,rteosq:f,sinio:z,gsto:i}}}),o("sgp4init",["./constants","./dpper","./dscom","./dsinit","./initl","./sgp4"],function(t,e,o,n,r,s){"use strict";return function(a,i){var c,d,h,u,l,p,m,g,f,x,M,y,v,z,b,T,L,E,w,k,A,j,D,C,S,I,P,q,F,O,N,R,_,U,G,Y,H,V,Z,B,J,Q,W,$,K,X,tt,et,ot,nt,rt,st,at,it,ct,dt,ht,ut=i.opsmode,lt=i.satn,pt=i.epoch,mt=i.xbstar,gt=i.xecco,ft=i.xargpo,xt=i.xinclo,Mt=i.xmo,yt=i.xno,vt=i.xnodeo;X=1.5e-12,a.isimp=0,a.method="n",a.aycof=0,a.con41=0,a.cc1=0,a.cc4=0,a.cc5=0,a.d2=0,a.d3=0,a.d4=0,a.delmo=0,a.eta=0,a.argpdot=0,a.omgcof=0,a.sinmao=0,a.t=0,a.t2cof=0,a.t3cof=0,a.t4cof=0,a.t5cof=0,a.x1mth2=0,a.x7thm1=0,a.mdot=0,a.nodedot=0,a.xlcof=0,a.xmcof=0,a.nodecf=0,a.irez=0,a.d2201=0,a.d2211=0,a.d3210=0,a.d3222=0,a.d4410=0,a.d4422=0,a.d5220=0,a.d5232=0,a.d5421=0,a.d5433=0,a.dedt=0,a.del1=0,a.del2=0,a.del3=0,a.didt=0,a.dmdt=0,a.dnodt=0,a.domdt=0,a.e3=0,a.ee2=0,a.peo=0,a.pgho=0,a.pho=0,a.pinco=0,a.plo=0,a.se2=0,a.se3=0,a.sgh2=0,a.sgh3=0,a.sgh4=0,a.sh2=0,a.sh3=0,a.si2=0,a.si3=0,a.sl2=0,a.sl3=0,a.sl4=0,a.gsto=0,a.xfact=0,a.xgh2=0,a.xgh3=0,a.xgh4=0,a.xh2=0,a.xh3=0,a.xi2=0,a.xi3=0,a.xl2=0,a.xl3=0,a.xl4=0,a.xlamo=0,a.zmol=0,a.zmos=0,a.atime=0,a.xli=0,a.xni=0,a.bstar=mt,a.ecco=gt,a.argpo=ft,a.inclo=xt,a.mo=Mt,a.no=yt,a.nodeo=vt,a.operationmode=ut;var zt=78/t.earthRadius+1,bt=42/t.earthRadius,Tt=bt*bt*bt*bt;a.init="y",a.t=0;var Lt={satn:lt,ecco:a.ecco,epoch:pt,inclo:a.inclo,no:a.no,method:a.method,opsmode:a.operationmode},Et=r(Lt);a.no=Et.no;var wt=Et.ao;a.con41=Et.con41;var kt=Et.con42,At=Et.cosio,jt=Et.cosio2,Dt=Et.eccsq,Ct=Et.omeosq,St=Et.posq,It=Et.rp,Pt=Et.rteosq,qt=Et.sinio;if(a.gsto=Et.gsto,a.error=0,Ct>=0||a.no>=0){if(a.isimp=0,It<220/t.earthRadius+1&&(a.isimp=1),P=zt,A=Tt,(E=(It-1)*t.earthRadius)<156){P=E-78,E<98&&(P=20);var Ft=(120-P)/t.earthRadius;A=Ft*Ft*Ft*Ft,P=P/t.earthRadius+1}w=1/St,tt=1/(wt-P),a.eta=wt*a.ecco*tt,y=a.eta*a.eta,M=a.ecco*a.eta,k=Math.abs(1-y),p=A*Math.pow(tt,4),m=p/Math.pow(k,3.5),u=m*a.no*(wt*(1+1.5*y+M*(4+y))+.375*t.j2*tt/k*a.con41*(8+3*y*(8+y))),a.cc1=a.bstar*u,l=0,a.ecco>1e-4&&(l=-2*p*tt*t.j3oj2*a.no*qt/a.ecco),a.x1mth2=1-jt,a.cc4=2*a.no*m*wt*Ct*(a.eta*(2+.5*y)+a.ecco*(.5+2*y)-t.j2*tt/(wt*k)*(-3*a.con41*(1-2*M+y*(1.5-.5*M))+.75*a.x1mth2*(2*y-M*(1+y))*Math.cos(2*a.argpo))),a.cc5=2*m*wt*Ct*(1+2.75*(y+M)+M*y),g=jt*jt,W=1.5*t.j2*w*a.no,$=.5*W*t.j2*w,K=-.46875*t.j4*w*w*a.no,a.mdot=a.no+.5*W*Pt*a.con41+.0625*$*Pt*(13-78*jt+137*g),a.argpdot=-.5*W*kt+.0625*$*(7-114*jt+395*g)+K*(3-36*jt+49*g),ot=-W*At,a.nodedot=ot+(.5*$*(4-19*jt)+2*K*(3-7*jt))*At,et=a.argpdot+a.nodedot,a.omgcof=a.bstar*l*Math.cos(a.argpo),a.xmcof=0,a.ecco>1e-4&&(a.xmcof=-2/3*p*a.bstar/M),a.nodecf=3.5*Ct*ot*a.cc1,a.t2cof=1.5*a.cc1,Math.abs(At+1)>1.5e-12?a.xlcof=-.25*t.j3oj2*qt*(3+5*At)/(1+At):a.xlcof=-.25*t.j3oj2*qt*(3+5*At)/X,a.aycof=-.5*t.j3oj2*qt;var Ot=1+a.eta*Math.cos(a.mo);if(a.delmo=Ot*Ot*Ot,a.sinmao=Math.sin(a.mo),a.x7thm1=7*jt-1,2*t.pi/a.no>=225){a.method="d",a.isimp=1,J=0,b=a.inclo;var Nt={epoch:pt,ep:a.ecco,argpp:a.argpo,tc:J,inclp:a.inclo,nodep:a.nodeo,np:a.no,e3:a.e3,ee2:a.ee2,peo:a.peo,pgho:a.pgho,pho:a.pho,pinco:a.pinco,plo:a.plo,se2:a.se2,se3:a.se3,sgh2:a.sgh2,sgh3:a.sgh3,sgh4:a.sgh4,sh2:a.sh2,sh3:a.sh3,si2:a.si2,si3:a.si3,sl2:a.sl2,sl3:a.sl3,sl4:a.sl4,xgh2:a.xgh2,xgh3:a.xgh3,xgh4:a.xgh4,xh2:a.xh2,xh3:a.xh3,xi2:a.xi2,xi3:a.xi3,xl2:a.xl2,xl3:a.xl3,xl4:a.xl4,zmol:a.zmol,zmos:a.zmos},Rt=o(Nt);Rt.snodm,Rt.cnodm,d=Rt.sinim,c=Rt.cosim,Rt.sinomm,Rt.cosomm,Rt.day,a.e3=Rt.e3,a.ee2=Rt.ee2,f=Rt.em,x=Rt.emsq,Rt.gam,a.peo=Rt.peo,a.pgho=Rt.pgho,a.pho=Rt.pho,a.pinco=Rt.pinco,a.plo=Rt.plo,Rt.rtemsq,a.se2=Rt.se2,a.se3=Rt.se3,a.sgh2=Rt.sgh2,a.sgh3=Rt.sgh3,a.sgh4=Rt.sgh4,a.sh2=Rt.sh2,a.sh3=Rt.sh3,a.si2=Rt.si2,a.si3=Rt.si3,a.sl2=Rt.sl2,a.sl3=Rt.sl3,a.sl4=Rt.sl4,j=Rt.s1,D=Rt.s2,C=Rt.s3,S=Rt.s4,I=Rt.s5,Rt.s6,Rt.s7,q=Rt.ss1,F=Rt.ss2,O=Rt.ss3,N=Rt.ss4,R=Rt.ss5,Rt.ss6,Rt.ss7,_=Rt.sz1,Rt.sz2,U=Rt.sz3,G=Rt.sz11,Rt.sz12,Y=Rt.sz13,H=Rt.sz21,Rt.sz22,V=Rt.sz23,Z=Rt.sz31,Rt.sz32,B=Rt.sz33,a.xgh2=Rt.xgh2,a.xgh3=Rt.xgh3,a.xgh4=Rt.xgh4,a.xh2=Rt.xh2,a.xh3=Rt.xh3,a.xi2=Rt.xi2,a.xi3=Rt.xi3,a.xl2=Rt.xl2,a.xl3=Rt.xl3,a.xl4=Rt.xl4,L=Rt.nm,nt=Rt.z1,Rt.z2,rt=Rt.z3,st=Rt.z11,Rt.z12,at=Rt.z13,it=Rt.z21,Rt.z22,ct=Rt.z23,dt=Rt.z31,Rt.z32,ht=Rt.z33,a.zmol=Rt.zmol,a.zmos=Rt.zmos;var _t={inclo:b,init:a.init,ep:a.ecco,inclp:a.inclo,nodep:a.nodeo,argpp:a.argpo,mp:a.mo,opsmode:a.operationmode},Ut=e(a,_t);a.ecco=Ut.ep,a.inclo=Ut.inclp,a.nodeo=Ut.nodep,a.argpo=Ut.argpp,a.mo=Ut.mp,v=0,z=0,T=0;var Gt={cosim:c,emsq:x,argpo:a.argpo,s1:j,s2:D,s3:C,s4:S,s5:I,sinim:d,ss1:q,ss2:F,ss3:O,ss4:N,ss5:R,sz1:_,sz3:U,sz11:G,sz13:Y,sz21:H,sz23:V,sz31:Z,sz33:B,t:a.t,tc:J,gsto:a.gsto,mo:a.mo,mdot:a.mdot,no:a.no,nodeo:a.nodeo,nodedot:a.nodedot,xpidot:et,z1:nt,z3:rt,z11:st,z13:at,z21:it,z23:ct,z31:dt,z33:ht,ecco:a.ecco,eccsq:Dt,em:f,argpm:v,inclm:b,mm:T,nm:L,nodem:z,irez:a.irez,atime:a.atime,d2201:a.d2201,d2211:a.d2211,d3210:a.d3210,d3222:a.d3222,d4410:a.d4410,d4422:a.d4422,d5220:a.d5220,d5232:a.d5232,d5421:a.d5421,d5433:a.d5433,dedt:a.dedt,didt:a.didt,dmdt:a.dmdt,dnodt:a.dnodt,domdt:a.domdt,del1:a.del1,del2:a.del2,del3:a.del3,xfact:a.xfact,xlamo:a.xlamo,xli:a.xli,xni:a.xni},Yt=n(Gt);f=Yt.em,v=Yt.argpm,b=Yt.inclm,T=Yt.mm,L=Yt.nm,z=Yt.nodem,a.irez=Yt.irez,a.atime=Yt.atime,a.d2201=Yt.d2201,a.d2211=Yt.d2211,a.d3210=Yt.d3210,a.d3222=Yt.d3222,a.d4410=Yt.d4410,a.d4422=Yt.d4422,a.d5220=Yt.d5220,a.d5232=Yt.d5232,a.d5421=Yt.d5421,a.d5433=Yt.d5433,a.dedt=Yt.dedt,a.didt=Yt.didt,a.dmdt=Yt.dmdt,Yt.dndt,a.dnodt=Yt.dnodt,a.domdt=Yt.domdt,a.del1=Yt.del1,a.del2=Yt.del2,a.del3=Yt.del3,a.xfact=Yt.xfact,a.xlamo=Yt.xlamo,a.xli=Yt.xli,a.xni=Yt.xni}1!==a.isimp&&(h=a.cc1*a.cc1,a.d2=4*wt*tt*h,Q=a.d2*tt*a.cc1/3,a.d3=(17*wt+P)*Q,a.d4=.5*Q*wt*tt*(221*wt+31*P)*a.cc1,a.t3cof=a.d2+2*h,a.t4cof=.25*(3*a.d3+a.cc1*(12*a.d2+10*h)),a.t5cof=.2*(3*a.d4+12*a.cc1*a.d3+6*a.d2*a.d2+15*h*(2*a.d2+h)))}return s(a,0),a.init="n",!0}}),o("propagate/twoline2satrec",["../constants","../gstime/days2mdhms","../gstime/jday","../sgp4init"],function(t,e,o,n){"use strict";return function(r,s){var a=1440/(2*t.pi),i=0,c={};c.error=0,c.satnum=r.substring(2,7),c.epochyr=parseInt(r.substring(18,20),10),c.epochdays=parseFloat(r.substring(20,32)),c.ndot=parseFloat(r.substring(33,43)),c.nddot=parseFloat("."+parseInt(r.substring(44,50),10)+"E"+r.substring(50,52)),c.bstar=parseFloat(r.substring(53,54)+"."+parseInt(r.substring(54,59),10)+"E"+r.substring(59,61)),parseInt(r.substring(64,68),10),c.inclo=parseFloat(s.substring(8,16)),c.nodeo=parseFloat(s.substring(17,25)),c.ecco=parseFloat("."+s.substring(26,33)),c.argpo=parseFloat(s.substring(34,42)),c.mo=parseFloat(s.substring(43,51)),c.no=parseFloat(s.substring(52,63)),parseFloat(s.substring(63,68)),c.no=c.no/a,c.a=Math.pow(c.no*t.tumin,-2/3),c.ndot=c.ndot/(1440*a),c.nddot=c.nddot/(1440*a*1440),c.inclo=c.inclo*t.deg2rad,c.nodeo=c.nodeo*t.deg2rad,c.argpo=c.argpo*t.deg2rad,c.mo=c.mo*t.deg2rad,c.alta=c.a*(1+c.ecco)-1,c.altp=c.a*(1-c.ecco)-1,i=c.epochyr<57?c.epochyr+2e3:c.epochyr+1900;var d=e(i,c.epochdays),h=d.mon,u=d.day,l=d.hr,p=d.minute,m=d.sec;c.jdsatepoch=o(i,h,u,l,p,m);var g={opsmode:"i",satn:c.satnum,epoch:c.jdsatepoch-2433281.5,xbstar:c.bstar,xecco:c.ecco,xargpo:c.argpo,xinclo:c.inclo,xmo:c.mo,xno:c.no,xnodeo:c.nodeo};return n(c,g),c}}),o("satellite",["./constants","./coordinate-transforms/degrees-lat","./coordinate-transforms/degrees-long","./coordinate-transforms/ecf-to-eci","./coordinate-transforms/ecf-to-look-angles","./coordinate-transforms/eci-to-ecf","./coordinate-transforms/eci-to-geodetic","./coordinate-transforms/geodetic-to-ecf","./coordinate-transforms/topocentric","./coordinate-transforms/topocentric-to-look-angles","./doppler-factor","./gstime/days2mdhms","./gstime/gstime","./gstime/jday","./propagate/propagate","./propagate/twoline2satrec","./sgp4"],function(t,e,o,n,r,s,a,i,c,d,h,u,l,p,m,g,f){"use strict";return{version:"1.2.0",constants:t,degreesLat:e,degreesLong:o,eciToEcf:s,ecfToEci:n,eciToGeodetic:a,ecfToLookAngles:r,geodeticToEcf:i,dopplerFactor:h,gstimeFromJday:l,gstimeFromDate:function(){return l(p.apply(null,arguments))},jday:p,propagate:m,twoline2satrec:g,sgp4:f}}),e("satellite")})},function(t,e,o){var n,r,s;!function(o,a){r=[e],n=a,void 0!==(s="function"==typeof n?n.apply(e,r):n)&&(t.exports=s)}(0,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isPositive=function(t){return t>=0}})}])});
//# sourceMappingURL=tle.js.map